(()=>{(function(t){"use strict";if(!t.version||t.version.major<2)throw new Error("This version of OpenSeadragonZoomLevels requires OpenSeadragon version 2.0.0+");t.Viewer.prototype.zoomLevels=function(e){return(!this.zoomLevelsInstance||e)&&(e=e||{},e.viewer=this,this.zoomLevelsInstance=new t.ZoomLevels(e)),this.zoomLevelsInstance},t.ZoomLevels=function(e){var r=this;t.extend(!0,r,{viewer:null,levels:[]},e),l(e.levels);var i=r.viewer.viewport,o;r.viewer.addHandler("zoom",function(s){o!==s.zoom&&(o=s.zoom,o!==i.getHomeZoom()&&(o<i.zoomSpring.current.value?o=r.getLowerZoomLevel(o):o>i.zoomSpring.current.value&&(o=r.getUpperZoomLevel(o))),o!==s.zoom&&(s.zoom=o,i.zoomTo(o,s.refPoint,s.immediately)))})},t.extend(t.ZoomLevels.prototype,{getUpperZoomLevel:function(e){if(t.isArray(this.levels)&&this.levels.length){var r=this.viewer.viewport,i=r.viewportToImageZoom(e);e=r.imageToViewportZoom(this.levels[this.levels.length-1]);for(var o=0;o<this.levels.length;o++)if(this.levels[o]>i){e=r.imageToViewportZoom(this.levels[o]);break}return Math.min(e,r.getMaxZoom())}return e},getLowerZoomLevel:function(e){if(t.isArray(this.levels)&&this.levels.length){var r=this.viewer.viewport,i=r.viewportToImageZoom(e);e=r.imageToViewportZoom(this.levels[0]);for(var o=this.levels.length-1;o>=0;o--)if(this.levels[o]<i){e=r.imageToViewportZoom(this.levels[o]);break}return Math.max(e,r.getMinZoom())}return e}});function l(e){t.isArray(e)&&e.sort(function(r,i){return r-i})}})(OpenSeadragon);})();
//# sourceMappingURL=openseadragonzoomlevels.js.map
