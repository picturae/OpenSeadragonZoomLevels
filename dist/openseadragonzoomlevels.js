(()=>{(function(i){"use strict";if(!i.version||i.version.major<2)throw new Error("This version of OpenSeadragonZoomLevels requires OpenSeadragon version 2.0.0+");i.Viewer.prototype.zoomLevels=function(e){return(!this.zoomLevelsInstance||e)&&(e=e||{},e.viewer=this,this.zoomLevelsInstance=new i.ZoomLevels(e)),this.zoomLevelsInstance},i.ZoomLevels=function(e){let t=this;i.extend(!0,t,{viewer:null,levels:[]},e),l(e.levels);let r=t.viewer.viewport,o;t.viewer.addHandler("zoom",function(s){o!==s.zoom&&(o=s.zoom,o!==r.getHomeZoom()&&(o<r.zoomSpring.current.value?o=t.getLowerZoomLevel(o):o>r.zoomSpring.current.value&&(o=t.getUpperZoomLevel(o))),o!==s.zoom&&(s.zoom=o,r.zoomTo(o,s.refPoint,s.immediately)))})},i.extend(i.ZoomLevels.prototype,{getUpperZoomLevel:function(e){if(i.isArray(this.levels)&&this.levels.length){let t=this.viewer.viewport,r=t.viewportToImageZoom(e);e=t.imageToViewportZoom(this.levels[this.levels.length-1]);for(let o=0;o<this.levels.length;o++)if(this.levels[o]>r){e=t.imageToViewportZoom(this.levels[o]);break}return Math.min(e,t.getMaxZoom())}return e},getLowerZoomLevel:function(e){if(i.isArray(this.levels)&&this.levels.length){let t=this.viewer.viewport,r=t.viewportToImageZoom(e);e=t.imageToViewportZoom(this.levels[0]);for(let o=this.levels.length-1;o>=0;o--)if(this.levels[o]<r){e=t.imageToViewportZoom(this.levels[o]);break}return Math.max(e,t.getMinZoom())}return e}});function l(e){i.isArray(e)&&e.sort(function(t,r){return t-r})}})(OpenSeadragon);})();
//# sourceMappingURL=openseadragonzoomlevels.js.map
